<!-- index.html (merged & cleaned) -->
<!doctype html>
<html lang="zh-Hant">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>你畫我猜 -- AI猜圖擂台賽</title>

    <link rel="stylesheet" href="./sketch_style.css" />

    <!-- p5.js for drawing (no need for p5.dom in modern p5) -->
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.3/lib/p5.min.js"></script>
    <script type="module" defer src="./sketch.js"></script>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="card">
        <div class="header-content">
          <div class="header-text">
            <h1>你畫我猜 -- AI猜圖擂台賽</h1>
            <p class="muted">共 6 題，每題 20 秒。玩家請在方框內依照指示詞進行作畫，AI會即時顯示預測機率。</p>
          </div>
          <div class="header-image">
            <img src="https://d2x1gov9yn7zyc.cloudfront.net/openhouse2025/uploads/website/2/event/image/275/114.11.08_%E4%BB%A3%E8%A1%A8%E5%9C%96_%E6%B4%BB%E5%8B%95%E4%BB%A3%E8%A1%A8%E5%9C%96-%E9%81%8A%E6%88%B2-final_%E5%8D%97%E9%83%A8__114.9.9.jpg" alt="AI Drawing Game" />
          </div>
        </div>
      </header>

      <!-- 完成頁 -->
      <section id="view-done" class="view card">
        <h2 class="center">挑戰完成 🎉</h2>
        <p class="center muted">感謝參與！成績已儲存。點擊下方按鈕下載結果。</p>
        <div class="done-actions">
          <button id="download" class="btn brand">點擊查看成績以及說明</button>
          <button class="btn ghost" onclick="restartGame()">重新開始</button>
        </div>
      </section>

      <!-- 表單頁 -->
      <section id="view-form" class="view active card">
        <!-- Acknowledgment Section (only on form page) -->
        <div class="acknowledgment-section">
          <h3>📋 致謝聲明 Acknowledgments</h3>
          <div class="acknowledgment-content">
            <p>
              <strong>🎨 資料集來源：</strong>本專案使用 Google 的 
              <a href="https://quickdraw.withgoogle.com/data" target="_blank" rel="noopener noreferrer">Quick, Draw! Dataset</a>
              作為訓練資料。
            </p>
            <p>
              <strong>🤖 模型基礎：</strong>原始設計理念與模型架構參數來自 
              <a href="https://github.com/yining1023/doodleNet" target="_blank" rel="noopener noreferrer">DoodleNet Project</a>
              (Yining Shi 開發)。
            </p>
            <p>
              <strong>🔬 進一步開發：</strong>由中央研究院統計科學研究所 (Academia Sinica Institute of Statistical Science)
              進行功能擴展與優化。
            </p>
          </div>
        </div>
        
        <h2>參賽者資訊</h2>
        <div class="form-grid">
          <div class="form-row-pair">
            <div class="form-row">
              <label for="player">姓名／暱稱</label>
              <input id="player" type="text" placeholder="請輸入您的姓名或暱稱" autocomplete="off" />
            </div>
            <div class="form-row">
              <label>性別</label>
              <div class="radio-group">
                <label><input type="radio" name="gender" value="male" /> 男</label>
                <label><input type="radio" name="gender" value="female" /> 女</label>
                <label><input type="radio" name="gender" value="other" /> 其他</label>
              </div>
            </div>
          </div>
          <div class="form-row-pair">
            <div class="form-row">
              <label for="age">年齡</label>
              <input id="age" type="number" min="1" max="120" placeholder="例如 18" autocomplete="off" />
            </div>
            <div class="form-row">
              <label>挑戰難度</label>
              <div class="radio-group">
                <label><input type="radio" name="difficulty" value="simple" checked /> 簡單</label>
                <label><input type="radio" name="difficulty" value="hard" /> 困難</label>
              </div>
            </div>
          </div>
        </div>
        <div id="formError" class="error"></div>
        <div class="actions">
          <button id="startBtn" class="btn brand">填寫完成，開始挑戰！</button>
        </div>
        <p class="tips">提示：點擊「開始挑戰」後會進到題目說明頁，再按「我知道了」就開始作畫與倒數計時。</p>
      </section>

      <!-- 題目說明頁（每題） -->
      <section id="view-instruct" class="view card">
        <div id="prompt" class="prompt">—</div>
        <div class="muted center">時間限制：<strong>20 秒</strong></div>
        <div class="actions center">
          <button id="instrOk" class="btn primary">我知道了 → 開始作畫</button>
          <button class="btn ghost" onclick="restartGame()">重新開始</button>
        </div>
      </section>

      <!-- 作畫頁 -->
      <section id="view-draw" class="view card">
        <div class="prompt" id="drawPrompt">—</div>
        <div class="timer" id="timer">—</div>
        <div class="draw-wrap">
          <div id="canvasContainer" class="canvas-shell"></div>
          <div class="toolbar">
            <button id="clearBtn" class="btn">清除畫布</button>
            <button id="submitBtn" class="btn brand">提交</button>
          </div>
        </div>
        <div id="res" class="center" style="margin-top:10px;"></div>
        <div id="timeUpMsg">時間到！請按「提交」進入下一題。</div>
      </section>
    </div>
  </body>
</html>